"use strict";(()=>{var Cs=Object.create;var ot=Object.defineProperty;var Us=Object.getOwnPropertyDescriptor;var Is=Object.getOwnPropertyNames;var Rs=Object.getPrototypeOf,Os=Object.prototype.hasOwnProperty;var at=(t,e)=>()=>(t&&(e=t(t=0)),e);var ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),As=(t,e)=>{for(var r in e)ot(t,r,{get:e[r],enumerable:!0})},Ir=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Is(e))!Os.call(t,s)&&s!==r&&ot(t,s,{get:()=>e[s],enumerable:!(n=Us(e,s))||n.enumerable});return t};var Ps=(t,e,r)=>(r=t!=null?Cs(Rs(t)):{},Ir(e||!t||!t.__esModule?ot(r,"default",{value:t,enumerable:!0}):r,t)),Rr=t=>Ir(ot({},"__esModule",{value:!0}),t);function Y(t,e){for(var r in e)t[r]=e[r];return t}function Vr(t){var e=t.parentNode;e&&e.removeChild(t)}function k(t,e,r){var n,s,i,o={};for(i in e)i=="key"?n=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?qe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return Fe(t,o,n,s,null)}function Fe(t,e,r,n,s){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Mr,__i:-1,__u:0};return s==null&&v.vnode!=null&&v.vnode(i),i}function ft(){return{current:null}}function L(t){return t.children}function V(t,e){this.props=t,this.context=e}function Se(t,e){if(e==null)return t.__?Se(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Se(t):null}function Zr(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Zr(t)}}function Vt(t){(!t.__d&&(t.__d=!0)&&ae.push(t)&&!lt.__r++||Or!==v.debounceRendering)&&((Or=v.debounceRendering)||Dr)(lt)}function lt(){var t,e,r,n,s,i,o,a,u;for(ae.sort(zt);t=ae.shift();)t.__d&&(e=ae.length,n=void 0,i=(s=(r=t).__v).__e,a=[],u=[],(o=r.__P)&&((n=Y({},s)).__v=s.__v+1,v.vnode&&v.vnode(n),Bt(o,n,s,r.__n,o.ownerSVGElement!==void 0,32&s.__u?[i]:null,a,i??Se(s),!!(32&s.__u),u),n.__.__k[n.__i]=n,$r(a,n,u),n.__e!=i&&Zr(n)),ae.length>e&&ae.sort(zt));lt.__r=0}function Br(t,e,r,n,s,i,o,a,u,c,d){var l,p,f,b,g,y=n&&n.__k||zr,E=e.length;for(r.__d=u,Ds(r,e,y),u=r.__d,l=0;l<E;l++)(f=r.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?je:y[f.__i]||je,f.__i=l,Bt(t,f,p,s,i,o,a,u,c,d),b=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Wt(p.ref,null,f),d.push(f.ref,f.__c||b,f)),g==null&&b!=null&&(g=b),65536&f.__u||p.__k===f.__k?u=Wr(f,u,t):typeof f.type=="function"&&f.__d!==void 0?u=f.__d:b&&(u=b.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=u,r.__e=g}function Ds(t,e,r){var n,s,i,o,a,u=e.length,c=r.length,d=c,l=0;for(t.__k=[],n=0;n<u;n++)(s=t.__k[n]=(s=e[n])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Fe(null,s,null,null,s):dt(s)?Fe(L,{children:s},null,null,null):s.__b>0?Fe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,a=Ls(s,r,o=n+l,d),s.__i=a,i=null,a!==-1&&(d--,(i=r[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==o&&(a===o+1?l++:a>o?d>u-o?l+=a-o:l--:l=a<o&&a==o-1?a-o:0,a!==n+l&&(s.__u|=65536))):(i=r[n])&&i.key==null&&i.__e&&(i.__e==t.__d&&(t.__d=Se(i)),Zt(i,i,!1),r[n]=null,d--);if(d)for(n=0;n<c;n++)(i=r[n])!=null&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=Se(i)),Zt(i,i))}function Wr(t,e,r){var n,s;if(typeof t.type=="function"){for(n=t.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=t,e=Wr(n[s],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function q(t,e){return e=e||[],t==null||typeof t=="boolean"||(dt(t)?t.some(function(r){q(r,e)}):e.push(t)),e}function Ls(t,e,r,n){var s=t.key,i=t.type,o=r-1,a=r+1,u=e[r];if(u===null||u&&s==u.key&&i===u.type)return r;if(n>(u!=null&&!(131072&u.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&!(131072&u.__u)&&s==u.key&&i===u.type)return o;o--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&s==u.key&&i===u.type)return a;a++}}return-1}function Ar(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ms.test(e)?r:r+"px"}function ut(t,e,r,n,s){var i;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ar(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Ar(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,i?Nr:Pr,i)):t.removeEventListener(e,i?Nr:Pr,i);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Pr(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(v.event?v.event(t):t)}function Nr(t){return this.l[t.type+!0](v.event?v.event(t):t)}function Bt(t,e,r,n,s,i,o,a,u,c){var d,l,p,f,b,g,y,E,U,te,nt,He,Ur,st,Lt,W=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(u=!!(32&r.__u),i=[a=e.__e=r.__e]),(d=v.__b)&&d(e);e:if(typeof W=="function")try{if(E=e.props,U=(d=W.contextType)&&n[d.__c],te=d?U?U.props.value:d.__:n,r.__c?y=(l=e.__c=r.__c).__=l.__E:("prototype"in W&&W.prototype.render?e.__c=l=new W(E,te):(e.__c=l=new V(E,te),l.constructor=W,l.render=Vs),U&&U.sub(l),l.props=E,l.state||(l.state={}),l.context=te,l.__n=n,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),W.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Y({},l.__s)),Y(l.__s,W.getDerivedStateFromProps(E,l.__s))),f=l.props,b=l.state,l.__v=e,p)W.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(W.getDerivedStateFromProps==null&&E!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(E,te),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(E,l.__s,te)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(l.props=E,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(it){it&&(it.__=e)}),nt=0;nt<l._sb.length;nt++)l.__h.push(l._sb[nt]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(E,l.__s,te),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,b,g)})}if(l.context=te,l.props=E,l.__P=t,l.__e=!1,He=v.__r,Ur=0,"prototype"in W&&W.prototype.render){for(l.state=l.__s,l.__d=!1,He&&He(e),d=l.render(l.props,l.state,l.context),st=0;st<l._sb.length;st++)l.__h.push(l._sb[st]);l._sb=[]}else do l.__d=!1,He&&He(e),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Ur<25);l.state=l.__s,l.getChildContext!=null&&(n=Y(Y({},n),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(f,b)),Br(t,dt(Lt=d!=null&&d.type===L&&d.key==null?d.props.children:d)?Lt:[Lt],e,r,n,s,i,o,a,u,c),l.base=e.__e,e.__u&=-161,l.__h.length&&o.push(l),y&&(l.__E=l.__=null)}catch(it){e.__v=null,u||i!=null?(e.__e=a,e.__u|=u?160:32,i[i.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),v.__e(it,e,r)}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=zs(r.__e,e,r,n,s,i,o,u,c);(d=v.diffed)&&d(e)}function $r(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)Wt(r[n],r[++n],r[++n]);v.__c&&v.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){v.__e(i,s.__v)}})}function zs(t,e,r,n,s,i,o,a,u){var c,d,l,p,f,b,g,y=r.props,E=e.props,U=e.type;if(U==="svg"&&(s=!0),i!=null){for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!U&&(U?f.localName===U:f.nodeType===3)){t=f,i[c]=null;break}}if(t==null){if(U===null)return document.createTextNode(E);t=s?document.createElementNS("http://www.w3.org/2000/svg",U):document.createElement(U,E.is&&E),i=null,a=!1}if(U===null)y===E||a&&t.data===E||(t.data=E);else{if(i=i&&qe.call(t.childNodes),y=r.props||je,!a&&i!=null)for(y={},c=0;c<t.attributes.length;c++)y[(f=t.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?l=f:c==="key"||c in E||ut(t,c,null,f,s));for(c in E)f=E[c],c=="children"?p=f:c=="dangerouslySetInnerHTML"?d=f:c=="value"?b=f:c=="checked"?g=f:c==="key"||a&&typeof f!="function"||y[c]===f||ut(t,c,f,y[c],s);if(d)a||l&&(d.__html===l.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(l&&(t.innerHTML=""),Br(t,dt(p)?p:[p],e,r,n,s&&U!=="foreignObject",i,o,i?i[0]:r.__k&&Se(r,0),a,u),i!=null)for(c=i.length;c--;)i[c]!=null&&Vr(i[c]);a||(c="value",b!==void 0&&(b!==t[c]||U==="progress"&&!b||U==="option"&&b!==y[c])&&ut(t,c,b,y[c],!1),c="checked",g!==void 0&&g!==t[c]&&ut(t,c,g,y[c],!1))}return t}function Wt(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){v.__e(n,r)}}function Zt(t,e,r){var n,s;if(v.unmount&&v.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Wt(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){v.__e(i,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&Zt(n[s],e,r||typeof t.type!="function");r||t.__e==null||Vr(t.__e),t.__=t.__e=t.__d=void 0}function Vs(t,e,r){return this.constructor(t,r)}function Te(t,e,r){var n,s,i,o;v.__&&v.__(t,e),s=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],o=[],Bt(e,t=(!n&&r||e).__k=k(L,null,[t]),s||je,je,e.ownerSVGElement!==void 0,!n&&r?[r]:s?null:e.firstChild?qe.call(e.childNodes):null,i,!n&&r?r:s?s.__e:e.firstChild,n,o),$r(i,t,o)}function $t(t,e){Te(t,e,$t)}function Hr(t,e,r){var n,s,i,o,a=Y({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?n=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?qe.call(arguments,2):r),Fe(t.type,a,n||t.key,s||t.ref,null)}function Ce(t,e){var r={__c:e="__cC"+Lr++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Vt(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}var qe,v,Mr,Ns,ae,Or,Dr,zt,Lr,je,zr,Ms,dt,ht=at(()=>{je={},zr=[],Ms=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dt=Array.isArray;qe=zr.slice,v={__e:function(t,e,r,n){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,n||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},Mr=0,Ns=function(t){return t!=null&&t.constructor==null},V.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Y({},this.state),typeof t=="function"&&(t=t(Y({},r),this.props)),t&&Y(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Vt(this))},V.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Vt(this))},V.prototype.render=L,ae=[],Dr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zt=function(t,e){return t.__v.__b-e.__v.__b},lt.__r=0,Lr=0});function ce(t,e){v.__h&&v.__h(R,t,Ue||e),Ue=0;var r=R.__H||(R.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:pt}),r.__[t]}function M(t){return Ue=1,mt(Qr,t)}function mt(t,e,r){var n=ce(G++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Qr(void 0,e),function(a){var u=n.__N?n.__N[0]:n.__[0],c=n.t(u,a);u!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=R,!R.u)){var s=function(a,u,c){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(p){return p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,a,u,c);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&n.__c.props===a)&&(!i||i.call(this,a,u,c))};R.u=!0;var i=R.shouldComponentUpdate,o=R.componentWillUpdate;R.componentWillUpdate=function(a,u,c){if(this.__e){var d=i;i=void 0,s(a,u,c),i=d}o&&o.call(this,a,u,c)},R.shouldComponentUpdate=s}return n.__N||n.__}function A(t,e){var r=ce(G++,3);!v.__s&&Xt(r.__H,e)&&(r.__=t,r.i=e,R.__H.__h.push(r))}function Ie(t,e){var r=ce(G++,4);!v.__s&&Xt(r.__H,e)&&(r.__=t,r.i=e,R.__h.push(r))}function re(t){return Ue=5,ue(function(){return{current:t}},[])}function jt(t,e,r){Ue=6,Ie(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function ue(t,e){var r=ce(G++,7);return Xt(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function qt(t,e){return Ue=8,ue(function(){return t},e)}function Kt(t){var e=R.context[t.__c],r=ce(G++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(R)),e.props.value):t.__}function Yt(t,e){v.useDebugValue&&v.useDebugValue(e?e(t):t)}function Zs(t){var e=ce(G++,10),r=M();return e.__=t,R.componentDidCatch||(R.componentDidCatch=function(n,s){e.__&&e.__(n,s),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Gt(){var t=ce(G++,11);if(!t.__){for(var e=R.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Bs(){for(var t;t=Jr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(_t),t.__H.__h.forEach(Ft),t.__H.__h=[]}catch(e){t.__H.__h=[],v.__e(e,t.__v)}}function Ws(t){var e,r=function(){clearTimeout(n),Xr&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Xr&&(e=requestAnimationFrame(r))}function _t(t){var e=R,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),R=e}function Ft(t){var e=R;t.__c=t.__(),R=e}function Xt(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Qr(t,e){return typeof e=="function"?e(t):e}var G,R,Ht,Fr,Ue,Jr,pt,jr,qr,Kr,Yr,Gr,Xr,Jt=at(()=>{ht();Ue=0,Jr=[],pt=[],jr=v.__b,qr=v.__r,Kr=v.diffed,Yr=v.__c,Gr=v.unmount;v.__b=function(t){R=null,jr&&jr(t)},v.__r=function(t){qr&&qr(t),G=0;var e=(R=t.__c).__H;e&&(Ht===R?(e.__h=[],R.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=pt,r.__N=r.i=void 0})):(e.__h.forEach(_t),e.__h.forEach(Ft),e.__h=[],G=0)),Ht=R},v.diffed=function(t){Kr&&Kr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Jr.push(e)!==1&&Fr===v.requestAnimationFrame||((Fr=v.requestAnimationFrame)||Ws)(Bs)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==pt&&(r.__=r.__V),r.i=void 0,r.__V=pt})),Ht=R=null},v.__c=function(t,e){e.some(function(r){try{r.__h.forEach(_t),r.__h=r.__h.filter(function(n){return!n.__||Ft(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],v.__e(n,r.__v)}}),Yr&&Yr(t,e)},v.unmount=function(t){Gr&&Gr(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{_t(n)}catch(s){e=s}}),r.__H=void 0,e&&v.__e(e,r.__v))};Xr=typeof requestAnimationFrame=="function"});function un(t,e){for(var r in e)t[r]=e[r];return t}function er(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function vt(t){this.props=t}function ln(t,e){function r(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:er(this.props,s)}function n(s){return this.shouldComponentUpdate=r,k(t,s)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}function dn(t){function e(r){var n=un({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=$s,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function hn(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=un({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return hn(n,e,r)})),t}function pn(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return pn(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function Ke(){this.__u=0,this.t=null,this.__b=null}function _n(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function mn(t){var e,r,n;function s(i){if(e||(e=t()).then(function(o){r=o.default||o},function(o){n=o}),n)throw n;if(!r)throw e;return k(r,i)}return s.displayName="Lazy",s.__f=!0,s}function Re(){this.u=null,this.o=null}function Fs(t){return this.getChildContext=function(){return t.context},t.children}function js(t){var e=this,r=t.i;e.componentWillUnmount=function(){Te(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Te(k(Fs,{context:e.context},t.__v),e.l)}function vn(t,e){var r=k(js,{__v:t,i:e});return r.containerInfo=e,r}function yt(t,e,r){return e.__k==null&&(e.textContent=""),Te(t,e),typeof r=="function"&&r(),t?t.__c:null}function gn(t,e,r){return $t(t,e),typeof r=="function"&&r(),t?t.__c:null}function Js(){}function Qs(){return this.cancelBubble}function ei(){return this.defaultPrevented}function wn(t){return k.bind(null,t)}function Ye(t){return!!t&&t.$$typeof===yn}function bn(t){return Ye(t)&&t.type===L}function En(t){return Ye(t)?Hr.apply(null,arguments):t}function kn(t){return!!t.__k&&(Te(null,t),!0)}function Sn(t){return t&&(t.base||t.nodeType===1&&t)||null}function rr(t){t()}function In(t){return t}function Rn(){return[!1,rr]}function Pn(t,e){var r=e(),n=M({h:{__:r,v:e}}),s=n[0].h,i=n[1];return Ie(function(){s.__=r,s.v=e,Qt(s)&&i({h:s})},[t,r,e]),A(function(){return Qt(s)&&i({h:s}),t(function(){Qt(s)&&i({h:s})})},[t]),r}function Qt(t){var e,r,n=t.v,s=t.__;try{var i=n();return!((e=s)===(r=i)&&(e!==0||1/e==1/r)||e!=e&&r!=r)}catch{return!0}}var en,$s,tn,fn,Hs,rn,nn,yn,qs,Ks,Ys,Gs,Xs,sn,tr,ti,on,an,cn,xn,ri,Tn,Cn,Un,On,An,gt,nr=at(()=>{ht();ht();Jt();Jt();(vt.prototype=new V).isPureReactComponent=!0,vt.prototype.shouldComponentUpdate=function(t,e){return er(this.props,t)||er(this.state,e)};en=v.__b;v.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),en&&en(t)};$s=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;tn=function(t,e){return t==null?null:q(q(t).map(e))},fn={map:tn,forEach:tn,count:function(t){return t?q(t).length:0},only:function(t){var e=q(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:q},Hs=v.__e;v.__e=function(t,e,r,n){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),s.__c(t,e)}Hs(t,e,r,n)};rn=v.unmount;v.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),rn&&rn(t)},(Ke.prototype=new V).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var s=_n(n.__v),i=!1,o=function(){i||(i=!0,r.__R=null,s?s(a):a())};r.__R=o;var a=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=pn(u,u.__c.__P,u.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},Ke.prototype.componentWillUnmount=function(){this.t=[]},Ke.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=hn(this.__b,r,n.__O=n.__P)}this.__b=null}var s=e.__a&&k(L,null,t.fallback);return s&&(s.__u&=-33),[k(L,null,e.__a?null:t.children),s]};nn=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};(Re.prototype=new V).__a=function(t){var e=this,r=_n(e.__v),n=e.o.get(t);return n[0]++,function(s){var i=function(){e.props.revealOrder?(n.push(s),nn(e,t,n)):s()};r?r(i):i()}},Re.prototype.render=function(t){this.u=null,this.o=new Map;var e=q(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Re.prototype.componentDidUpdate=Re.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){nn(t,r,e)})};yn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ks=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ys=/[A-Z0-9]/g,Gs=typeof document<"u",Xs=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};V.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(V.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});sn=v.event;v.event=function(t){return sn&&(t=sn(t)),t.persist=Js,t.isPropagationStopped=Qs,t.isDefaultPrevented=ei,t.nativeEvent=t};ti={enumerable:!1,configurable:!0,get:function(){return this.class}},on=v.vnode;v.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,s={};for(var i in r){var o=r[i];if(!(i==="value"&&"defaultValue"in r&&o==null||Gs&&i==="children"&&n==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&o===!0?o="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||n!=="input"&&n!=="textarea"||Xs(r.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":Ks.test(i)?i=a:n.indexOf("-")===-1&&qs.test(i)?i=i.replace(Ys,"-$&").toLowerCase():o===null&&(o=void 0):a=i="oninput",a==="oninput"&&s[i=a]&&(i="oninputCapture"),s[i]=o}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=q(r.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=q(r.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",ti)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),e.props=s}(t),t.$$typeof=yn,on&&on(t)};an=v.__r;v.__r=function(t){an&&an(t),tr=t.__c};cn=v.diffed;v.diffed=function(t){cn&&cn(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),tr=null};xn={ReactCurrentDispatcher:{current:{readContext:function(t){return tr.__n[t.__c].props.value}}}},ri="17.0.2";Tn=function(t,e){return t(e)},Cn=function(t,e){return t(e)},Un=L;On=Ie,An=Ye;gt={useState:M,useId:Gt,useReducer:mt,useEffect:A,useLayoutEffect:Ie,useInsertionEffect:On,useTransition:Rn,useDeferredValue:In,useSyncExternalStore:Pn,startTransition:rr,useRef:re,useImperativeHandle:jt,useMemo:ue,useCallback:qt,useContext:Kt,useDebugValue:Yt,version:"17.0.2",Children:fn,render:yt,hydrate:gn,unmountComponentAtNode:kn,createPortal:vn,createElement:k,createContext:Ce,createFactory:wn,cloneElement:En,createRef:ft,Fragment:L,isValidElement:Ye,isElement:An,isFragment:bn,findDOMNode:Sn,Component:V,PureComponent:vt,memo:ln,forwardRef:dn,flushSync:Cn,unstable_batchedUpdates:Tn,StrictMode:Un,Suspense:Ke,SuspenseList:Re,lazy:mn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xn}});var X={};As(X,{Children:()=>fn,Component:()=>V,Fragment:()=>L,PureComponent:()=>vt,StrictMode:()=>Un,Suspense:()=>Ke,SuspenseList:()=>Re,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>xn,cloneElement:()=>En,createContext:()=>Ce,createElement:()=>k,createFactory:()=>wn,createPortal:()=>vn,createRef:()=>ft,default:()=>gt,findDOMNode:()=>Sn,flushSync:()=>Cn,forwardRef:()=>dn,hydrate:()=>gn,isElement:()=>An,isFragment:()=>bn,isValidElement:()=>Ye,lazy:()=>mn,memo:()=>ln,render:()=>yt,startTransition:()=>rr,unmountComponentAtNode:()=>kn,unstable_batchedUpdates:()=>Tn,useCallback:()=>qt,useContext:()=>Kt,useDebugValue:()=>Yt,useDeferredValue:()=>In,useEffect:()=>A,useErrorBoundary:()=>Zs,useId:()=>Gt,useImperativeHandle:()=>jt,useInsertionEffect:()=>On,useLayoutEffect:()=>Ie,useMemo:()=>ue,useReducer:()=>mt,useRef:()=>re,useState:()=>M,useSyncExternalStore:()=>Pn,useTransition:()=>Rn,version:()=>ri});var P=at(()=>{nr();nr()});var Fn=ct(Hn=>{"use strict";var Oe=(P(),Rr(X));function di(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:di,hi=Oe.useState,pi=Oe.useEffect,_i=Oe.useLayoutEffect,mi=Oe.useDebugValue;function vi(t,e){var r=e(),n=hi({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return _i(function(){s.value=r,s.getSnapshot=e,or(s)&&i({inst:s})},[t,r,e]),pi(function(){return or(s)&&i({inst:s}),t(function(){or(s)&&i({inst:s})})},[t]),mi(r),r}function or(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fi(t,r)}catch{return!0}}function yi(t,e){return e()}var gi=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yi:vi;Hn.useSyncExternalStore=Oe.useSyncExternalStore!==void 0?Oe.useSyncExternalStore:gi});var qn=ct((Za,jn)=>{"use strict";jn.exports=Fn()});var Yn=ct(Kn=>{"use strict";var wt=(P(),Rr(X)),xi=qn();function wi(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:wi,Ei=xi.useSyncExternalStore,ki=wt.useRef,Si=wt.useEffect,Ti=wt.useMemo,Ci=wt.useDebugValue;Kn.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=ki(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ti(function(){function u(f){if(!c){if(c=!0,d=f,f=n(f),s!==void 0&&o.hasValue){var b=o.value;if(s(b,f))return l=b}return l=f}if(b=l,bi(d,f))return b;var g=n(f);return s!==void 0&&s(b,g)?b:(d=f,l=g)}var c=!1,d,l,p=r===void 0?null:r;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,r,n,s]);var a=Ei(t,i[0],i[1]);return Si(function(){o.hasValue=!0,o.value=a},[a]),Ci(a),a}});var Xn=ct((Wa,Gn)=>{"use strict";Gn.exports=Yn()});P();P();P();P();(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can use the 'event-target-shim' package to polyfill this. See https://www.npmjs.com/package/event-target-shim. 
  First, run:
  \`\`\`
  npm install event-target-shim
  \`\`\`
  Then, add this in your code:
  \`\`\`
  import {Event, EventTarget} from 'event-target-shim';
  if(!globalThis.Event) {
    globalThis.Event = Event;
  }
  if(!globalThis.EventTarget) {
    globalThis.EventTarget = EventTarget;
  }
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var ni=class extends Event{message;error;constructor(t,e){super("error",e),this.message=t.message,this.error=t}},si=class extends Event{code;reason;wasClean=!0;constructor(t=1e3,e="",r){super("close",r),this.code=t,this.reason=e}},sr={Event,ErrorEvent:ni,CloseEvent:si};function ii(t,e){if(!t)throw new Error(e)}function oi(t){return new t.constructor(t.type,t)}function ai(t){let e=new Event(t.type,t);return"data"in t&&(e.data=t.data),"code"in t&&(e.code=t.code),"reason"in t&&(e.reason=t.reason),"error"in t&&(e.error=t.error),e}var ci=typeof process<"u"&&typeof process.versions?.node<"u"&&typeof document>"u",xt=ci?ai:oi,le={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},ir=class de extends EventTarget{_ws;_retryCount=-1;_uptimeTimeout;_connectTimeout;_shouldReconnect=!0;_connectLock=!1;_binaryType="blob";_closeCalled=!1;_messageQueue=[];_url;_protocols;_options;constructor(e,r,n={}){super(),this._url=e,this._protocols=r,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return de.CONNECTING}get OPEN(){return de.OPEN}get CLOSING(){return de.CLOSING}get CLOSED(){return de.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,n)=>(typeof n=="string"?r+=n.length:n instanceof Blob?r+=n.size:r+=n.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?de.CLOSED:de.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}onclose=null;onerror=null;onmessage=null;onopen=null;close(e=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,r)}reconnect(e,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,r),this._connect())}send(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{let{maxEnqueuedMessages:r=le.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}}_debug(...e){this._options.debug&&console.log.apply(console,["RWS>",...e])}_getNextDelay(){let{reconnectionDelayGrowFactor:e=le.reconnectionDelayGrowFactor,minReconnectionDelay:r=le.minReconnectionDelay,maxReconnectionDelay:n=le.maxReconnectionDelay}=this._options,s=0;return this._retryCount>0&&(s=r*Math.pow(e,this._retryCount-1),s>n&&(s=n)),this._debug("next delay",s),s}_wait(){return new Promise(e=>{setTimeout(e,this._getNextDelay())})}_getNextProtocols(e){if(!e)return Promise.resolve(null);if(typeof e=="string"||Array.isArray(e))return Promise.resolve(e);if(typeof e=="function"){let r=e();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){let r=e();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;let{maxRetries:e=le.maxRetries,connectionTimeout:r=le.connectionTimeout}=this._options;if(this._retryCount>=e){this._debug("max retries reached",this._retryCount,">=",e);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([n,s])=>{if(this._closeCalled){this._connectLock=!1;return}let i=this._options.WebSocket||WebSocket;this._debug("connect",{url:n,protocols:s}),this._ws=s?new i(n,s):new i(n),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(n=>{this._connectLock=!1,this._handleError(new sr.ErrorEvent(Error(n.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new sr.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(e=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,r),this._handleClose(new sr.CloseEvent(e,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_handleOpen=e=>{this._debug("open event");let{minUptime:r=le.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),ii(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(n=>this._ws?.send(n)),this._messageQueue=[],this.onopen&&this.onopen(e),this.dispatchEvent(xt(e))};_handleMessage=e=>{this._debug("message event"),this.onmessage&&this.onmessage(e),this.dispatchEvent(xt(e))};_handleError=e=>{this._debug("error event",e.message),this._disconnect(void 0,e.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(e),this._debug("exec error listeners"),this.dispatchEvent(xt(e)),this._connect()};_handleClose=e=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(e),this.dispatchEvent(xt(e))};_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};var ui=t=>t[1]!==null&&t[1]!==void 0;function li(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();let t=new Date().getTime(),e=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let n=Math.random()*16;return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),(r==="x"?n:n&3|8).toString(16)})}function Mn(t,e,r={}){let{host:n,path:s,protocol:i,room:o,party:a,query:u}=t,c=n.replace(/^(http|https|ws|wss):\/\//,"");if(c.endsWith("/")&&(c=c.slice(0,-1)),s&&s.startsWith("/"))throw new Error("path must not start with a slash");let d=a??"main",l=s?`/${s}`:"",p=i||(c.startsWith("localhost:")||c.startsWith("127.0.0.1:")?e:e+"s"),f=`${p}://${c}/${a?`parties/${a}`:"party"}/${o}${l}`,b=(y={})=>`${f}?${new URLSearchParams([...Object.entries(r),...Object.entries(y).filter(ui)])}`,g=typeof u=="function"?async()=>b(await u()):b(u);return{host:c,path:l,room:o,name:d,protocol:p,partyUrl:f,urlProvider:g}}var Dn=class extends ir{constructor(t){let e=Nn(t);super(e.urlProvider,e.protocols,e.socketOptions),this.partySocketOptions=t,this.setWSProperties(e)}_pk;_pkurl;name;room;host;path;updateProperties(t){let e=Nn({...t,host:t.host??this.host,room:t.room??this.room,path:t.path??this.path});this._url=e.urlProvider,this._protocols=e.protocols,this._options=e.socketOptions,this.setWSProperties(e)}setWSProperties(t){let{_pk:e,_pkurl:r,name:n,room:s,host:i,path:o}=t;this._pk=e,this._pkurl=r,this.name=n,this.room=s,this.host=i,this.path=o}reconnect(t,e){if(!this.room||!this.host)throw new Error("The room and host must be set before connecting, use `updateProperties` method to set them or pass them to the constructor.");super.reconnect(t,e)}get id(){return this._pk}get roomUrl(){return this._pkurl}static async fetch(t,e){let r=Mn(t,"http"),n=typeof r.urlProvider=="string"?r.urlProvider:await r.urlProvider();return(t.fetch??fetch)(n,e)}};function Nn(t){let{id:e,host:r,path:n,party:s,room:i,protocol:o,query:a,protocols:u,...c}=t,d=e||li(),l=Mn(t,"ws",{_pk:d});return{_pk:d,_pkurl:l.partyUrl,name:l.name,room:l.room,host:l.host,path:l.path,protocols:u,socketOptions:c,urlProvider:l.urlProvider}}P();P();var Ln=(t,e)=>{let r=re(e);r.current=e,A(()=>{let n=a=>r.current?.onOpen?.(a),s=a=>r.current?.onMessage?.(a),i=a=>r.current?.onClose?.(a),o=a=>r.current?.onError?.(a);return t.addEventListener("open",n),t.addEventListener("close",i),t.addEventListener("error",o),t.addEventListener("message",s),()=>{t.removeEventListener("open",n),t.removeEventListener("close",i),t.removeEventListener("error",o),t.removeEventListener("message",s)}},[t])},zn=t=>[t.startClosed,t.minUptime,t.maxRetries,t.connectionTimeout,t.maxEnqueuedMessages,t.maxReconnectionDelay,t.minReconnectionDelay,t.reconnectionDelayGrowFactor,t.debug];function Vn({options:t,createSocket:e,createSocketMemoKey:r}){let n=r(t),s=ue(()=>t,[n]),[i,o]=M(()=>e({...s,startClosed:!0})),a=re(null),u=re(e);return u.current=e,A(()=>{if(a.current===i){let c=u.current({...s,startClosed:!1});o(c)}else return!a.current&&s.startClosed!==!0&&i.reconnect(),a.current=i,()=>{i.close()}},[i,s]),i}function Zn(t){let e=Vn({options:t,createSocket:r=>new Dn(r),createSocketMemoKey:r=>JSON.stringify([r.query,r.id,r.host,r.room,r.party,r.path,r.protocol,r.protocols,...zn(r)])});return Ln(e,t),e}var Wn={},Bn=t=>{let e,r=new Set,n=(u,c)=>{let d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){let l=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(p=>p(e,l))}},s=()=>e,a={setState:n,getState:s,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(Wn.env?Wn.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,s,a),a},$n=t=>t?Bn(t):Bn;P();var es=Ps(Xn(),1),bt={},{useDebugValue:Ui}=gt,{useSyncExternalStoreWithSelector:Ii}=es.default,Jn=!1;function Ri(t,e=t.getState,r){(bt.env?bt.env.MODE:void 0)!=="production"&&r&&!Jn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jn=!0);let n=Ii(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return Ui(n),n}var Qn=t=>{(bt.env?bt.env.MODE:void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e=typeof t=="function"?$n(t):t,r=(n,s)=>Ri(e,n,s);return Object.assign(r,e),r},Et=t=>t?Qn(t):Qn;function ts(t){for(var e=t.length,r=0,n=0;n<e;){var s=t.charCodeAt(n++);if(s&4294967168)if(!(s&4294965248))r+=2;else{if(s>=55296&&s<=56319&&n<e){var i=t.charCodeAt(n);(i&64512)===56320&&(++n,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?r+=4:r+=3}else{r++;continue}}return r}function Oi(t,e,r){for(var n=t.length,s=r,i=0;i<n;){var o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<n){var a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}var Ai=new TextEncoder,Pi=50;function Ni(t,e,r){Ai.encodeInto(t,e.subarray(r))}function rs(t,e,r){t.length>Pi?Ni(t,e,r):Oi(t,e,r)}var Mi=4096;function ar(t,e,r){for(var n=e,s=n+r,i=[],o="";n<s;){var a=t[n++];if(!(a&128))i.push(a);else if((a&224)===192){var u=t[n++]&63;i.push((a&31)<<6|u)}else if((a&240)===224){var u=t[n++]&63,c=t[n++]&63;i.push((a&31)<<12|u<<6|c)}else if((a&248)===240){var u=t[n++]&63,c=t[n++]&63,d=t[n++]&63,l=(a&7)<<18|u<<12|c<<6|d;l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l)}else i.push(a);i.length>=Mi&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(o+=String.fromCharCode.apply(String,i)),o}var Di=new TextDecoder,Li=200;function zi(t,e,r){var n=t.subarray(e,e+r);return Di.decode(n)}function ns(t,e,r){return r>Li?zi(t,e,r):ar(t,e,r)}var Ge=function(){function t(e,r){this.type=e,this.data=r}return t}();var Vi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(t){Vi(e,t);function e(r){var n=t.call(this,r)||this,s=Object.create(e.prototype);return Object.setPrototypeOf(n,s),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:e.name}),n}return e}(Error);var Ae=4294967295;function ss(t,e,r){var n=r/4294967296,s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function kt(t,e,r){var n=Math.floor(r/4294967296),s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function St(t,e){var r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function is(t,e){var r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}var Zi=-1,Bi=4294967296-1,Wi=17179869184-1;function $i(t){var e=t.sec,r=t.nsec;if(e>=0&&r>=0&&e<=Wi)if(r===0&&e<=Bi){var n=new Uint8Array(4),s=new DataView(n.buffer);return s.setUint32(0,e),n}else{var i=e/4294967296,o=e&4294967295,n=new Uint8Array(8),s=new DataView(n.buffer);return s.setUint32(0,r<<2|i&3),s.setUint32(4,o),n}else{var n=new Uint8Array(12),s=new DataView(n.buffer);return s.setUint32(0,r),kt(s,4,e),n}}function Hi(t){var e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function Fi(t){if(t instanceof Date){var e=Hi(t);return $i(e)}else return null}function ji(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var r=e.getUint32(0),n=0;return{sec:r,nsec:n}}case 8:{var s=e.getUint32(0),i=e.getUint32(4),r=(s&3)*4294967296+i,n=s>>>2;return{sec:r,nsec:n}}case 12:{var r=St(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new $("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function qi(t){var e=ji(t);return new Date(e.sec*1e3+e.nsec/1e6)}var os={type:Zi,encode:Fi,decode:qi};var Tt=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(os)}return t.prototype.register=function(e){var r=e.type,n=e.encode,s=e.decode;if(r>=0)this.encoders[r]=n,this.decoders[r]=s;else{var i=1+r;this.builtInEncoders[i]=n,this.builtInDecoders[i]=s}},t.prototype.tryToEncode=function(e,r){for(var n=0;n<this.builtInEncoders.length;n++){var s=this.builtInEncoders[n];if(s!=null){var i=s(e,r);if(i!=null){var o=-1-n;return new Ge(o,i)}}}for(var n=0;n<this.encoders.length;n++){var s=this.encoders[n];if(s!=null){var i=s(e,r);if(i!=null){var o=n;return new Ge(o,i)}}}return e instanceof Ge?e:null},t.prototype.decode=function(e,r,n){var s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(e,r,n):new Ge(r,e)},t.defaultCodec=new t,t}();function Pe(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function as(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=Pe(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var Ki=100,Yi=2048,cs=function(){function t(e){var r,n,s,i,o,a,u,c;this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:Tt.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxDepth=(s=e?.maxDepth)!==null&&s!==void 0?s:Ki,this.initialBufferSize=(i=e?.initialBufferSize)!==null&&i!==void 0?i:Yi,this.sortKeys=(o=e?.sortKeys)!==null&&o!==void 0?o:!1,this.forceFloat32=(a=e?.forceFloat32)!==null&&a!==void 0?a:!1,this.ignoreUndefined=(u=e?.ignoreUndefined)!==null&&u!==void 0?u:!1,this.forceIntegerToFloat=(c=e?.forceIntegerToFloat)!==null&&c!==void 0?c:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,r){if(r>this.maxDepth)throw new Error("Too deep objects in depth ".concat(r));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)},t.prototype.ensureBufferSizeToWrite=function(e){var r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)},t.prototype.resizeBuffer=function(e){var r=new ArrayBuffer(e),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},t.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.encodeBigInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var r=5,n=ts(e);this.ensureBufferSizeToWrite(r+n),this.writeStringHeader(n),rs(e,this.bytes,this.pos),this.pos+=n},t.prototype.encodeObject=function(e,r){var n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error("Too large binary: ".concat(r));var n=Pe(e);this.writeU8a(n)},t.prototype.encodeArray=function(e,r){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var s=0,i=e;s<i.length;s++){var o=i[s];this.doEncode(o,r+1)}},t.prototype.countWithoutUndefined=function(e,r){for(var n=0,s=0,i=r;s<i.length;s++){var o=i[s];e[o]!==void 0&&n++}return n},t.prototype.encodeMap=function(e,r){var n=Object.keys(e);this.sortKeys&&n.sort();var s=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error("Too large map object: ".concat(s));for(var i=0,o=n;i<o.length;i++){var a=o[i],u=e[a];this.ignoreUndefined&&u===void 0||(this.encodeString(a),this.doEncode(u,r+1))}},t.prototype.encodeExtension=function(e){var r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error("Too large extension object: ".concat(r));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),ss(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),kt(this.view,this.pos,e),this.pos+=8},t.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},t.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},t}();function cr(t,e){var r=new cs(e);return r.encodeSharedRef(t)}function Ct(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var Gi=16,Xi=16,us=function(){function t(e,r){e===void 0&&(e=Gi),r===void 0&&(r=Xi),this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,r,n){var s=this.caches[n-1];e:for(var i=0,o=s;i<o.length;i++){for(var a=o[i],u=a.bytes,c=0;c<n;c++)if(u[c]!==e[r+c])continue e;return a.str}return null},t.prototype.store=function(e,r){var n=this.caches[e.length-1],s={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)},t.prototype.decode=function(e,r,n){var s=this.find(e,r,n);if(s!=null)return this.hit++,s;this.miss++;var i=ar(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,i),i},t}();var Ji=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(l){o(l)}}function u(d){try{c(n.throw(d))}catch(l){o(l)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},ur=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ls=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,u){o=t[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}},Ne=function(t){return this instanceof Ne?(this.v=t,this):new Ne(t)},Qi=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){n[p]&&(s[p]=function(f){return new Promise(function(b,g){i.push([p,f,b,g])>1||a(p,f)})})}function a(p,f){try{u(n[p](f))}catch(b){l(i[0][3],b)}}function u(p){p.value instanceof Ne?Promise.resolve(p.value.v).then(c,d):l(i[0][2],p)}function c(p){a("next",p)}function d(p){a("throw",p)}function l(p,f){p(f),i.shift(),i.length&&a(i[0][0],i[0][1])}},ds="array",Ut="map_key",eo="map_value",to=function(t){return typeof t=="string"||typeof t=="number"},Xe=-1,dr=new DataView(new ArrayBuffer(0)),ro=new Uint8Array(dr.buffer);try{dr.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var lr=RangeError,fs=new lr("Insufficient data"),no=new us,hs=function(){function t(e){var r,n,s,i,o,a,u;this.totalPos=0,this.pos=0,this.view=dr,this.bytes=ro,this.headByte=Xe,this.stack=[],this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:Tt.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxStrLength=(s=e?.maxStrLength)!==null&&s!==void 0?s:Ae,this.maxBinLength=(i=e?.maxBinLength)!==null&&i!==void 0?i:Ae,this.maxArrayLength=(o=e?.maxArrayLength)!==null&&o!==void 0?o:Ae,this.maxMapLength=(a=e?.maxMapLength)!==null&&a!==void 0?a:Ae,this.maxExtLength=(u=e?.maxExtLength)!==null&&u!==void 0?u:Ae,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:no}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=Xe,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=Pe(e),this.view=as(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===Xe&&!this.hasRemaining(1))this.setBuffer(e);else{var r=this.bytes.subarray(this.pos),n=Pe(e),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var r=this,n=r.view,s=r.pos;return new RangeError("Extra ".concat(n.byteLength-s," of ").concat(n.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r},t.prototype.decodeMulti=function(e){return ur(this,function(r){switch(r.label){case 0:this.reinitializeState(),this.setBuffer(e),r.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var r,n,s,i,o,a,u;return Ji(this,void 0,void 0,function(){var c,d,l,p,f,b,g,y;return ur(this,function(E){switch(E.label){case 0:c=!1,E.label=1;case 1:E.trys.push([1,6,7,12]),r=!0,n=ls(e),E.label=2;case 2:return[4,n.next()];case 3:if(s=E.sent(),i=s.done,!!i)return[3,5];u=s.value,r=!1;try{if(l=u,c)throw this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{d=this.doDecodeSync(),c=!0}catch(U){if(!(U instanceof lr))throw U}this.totalPos+=this.pos}finally{r=!0}E.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=E.sent(),o={error:p},[3,12];case 7:return E.trys.push([7,,10,11]),!r&&!i&&(a=n.return)?[4,a.call(n)]:[3,9];case 8:E.sent(),E.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(c){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,d]}throw f=this,b=f.headByte,g=f.pos,y=f.totalPos,new RangeError("Insufficient data in parsing ".concat(Ct(b)," at ").concat(y," (").concat(g," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,r){return Qi(this,arguments,function(){var s,i,o,a,u,c,d,l,p,f,b,g;return ur(this,function(y){switch(y.label){case 0:s=r,i=-1,y.label=1;case 1:y.trys.push([1,15,16,21]),o=!0,a=ls(e),y.label=2;case 2:return[4,Ne(a.next())];case 3:if(u=y.sent(),p=u.done,!!p)return[3,14];g=u.value,o=!1,y.label=4;case 4:if(y.trys.push([4,,12,13]),c=g,r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(c),s&&(i=this.readArraySize(),s=!1,this.complete()),y.label=5;case 5:y.trys.push([5,10,,11]),y.label=6;case 6:return[4,Ne(this.doDecodeSync())];case 7:return[4,y.sent()];case 8:return y.sent(),--i===0?[3,9]:[3,6];case 9:return[3,11];case 10:if(d=y.sent(),!(d instanceof lr))throw d;return[3,11];case 11:return this.totalPos+=this.pos,[3,13];case 12:return o=!0,[7];case 13:return[3,2];case 14:return[3,21];case 15:return l=y.sent(),f={error:l},[3,21];case 16:return y.trys.push([16,,19,20]),!o&&!p&&(b=a.return)?[4,Ne(b.call(a))]:[3,18];case 17:y.sent(),y.label=18;case 18:return[3,20];case 19:if(f)throw f.error;return[7];case 20:return[7];case 21:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),r=void 0;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){var n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(e<160){var n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else{var s=e-160;r=this.decodeUtf8String(s,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){var s=this.lookU8();r=this.decodeUtf8String(s,1)}else if(e===218){var s=this.lookU16();r=this.decodeUtf8String(s,2)}else if(e===219){var s=this.lookU32();r=this.decodeUtf8String(s,4)}else if(e===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else if(e===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[]}else if(e===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(e===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={}}else if(e===196){var n=this.lookU8();r=this.decodeBinary(n,1)}else if(e===197){var n=this.lookU16();r=this.decodeBinary(n,2)}else if(e===198){var n=this.lookU32();r=this.decodeBinary(n,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){var n=this.lookU8();r=this.decodeExtension(n,1)}else if(e===200){var n=this.lookU16();r=this.decodeExtension(n,2)}else if(e===201){var n=this.lookU32();r=this.decodeExtension(n,4)}else throw new $("Unrecognized type byte: ".concat(Ct(e)));this.complete();for(var i=this.stack;i.length>0;){var o=i[i.length-1];if(o.type===ds)if(o.array[o.position]=r,o.position++,o.position===o.size)i.pop(),r=o.array;else continue e;else if(o.type===Ut){if(!to(r))throw new $("The type of key must be string or number but "+typeof r);if(r==="__proto__")throw new $("The key __proto__ is not allowed");o.key=r,o.type=eo;continue e}else if(o.map[o.key]=r,o.readCount++,o.readCount===o.size)i.pop(),r=o.map;else{o.key=null,o.type=Ut;continue e}}return r}},t.prototype.readHeadByte=function(){return this.headByte===Xe&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=Xe},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new $("Unrecognized array type byte: ".concat(Ct(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new $("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:Ut,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new $("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:ds,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,r){var n;if(e>this.maxStrLength)throw new $("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+r+e)throw fs;var s=this.pos+r,i;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,s,e):i=ns(this.bytes,s,e),this.pos+=r+e,i},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===Ut}return!1},t.prototype.decodeBinary=function(e,r){if(e>this.maxBinLength)throw new $("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+r))throw fs;var n=this.pos+r,s=this.bytes.subarray(n,n+e);return this.pos+=r+e,s},t.prototype.decodeExtension=function(e,r){if(e>this.maxExtLength)throw new $("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+r),s=this.decodeBinary(e,r+1);return this.extensionCodec.decode(s,n,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=is(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=St(this.view,this.pos);return this.pos+=8,e},t.prototype.readU64AsBigInt=function(){var e=this.view.getBigUint64(this.pos);return this.pos+=8,e},t.prototype.readI64AsBigInt=function(){var e=this.view.getBigInt64(this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}();function fr(t,e){var r=new hs(e);return r.decode(t)}var I;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let i={};for(let o of s)i[o]=o;return i},t.getValidEnumValues=s=>{let i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(let a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(let o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(I||(I={}));var pr;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(pr||(pr={}));var _=I.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ne=t=>{switch(typeof t){case"undefined":return _.undefined;case"string":return _.string;case"number":return isNaN(t)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(t)?_.array:t===null?_.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_.promise:typeof Map<"u"&&t instanceof Map?_.map:typeof Set<"u"&&t instanceof Set?_.set:typeof Date<"u"&&t instanceof Date?_.date:_.object;default:return _.unknown}},h=I.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),so=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Z=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,I.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Z.create=t=>new Z(t);var Je=(t,e)=>{let r;switch(t.code){case h.invalid_type:t.received===_.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case h.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,I.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:r=`Unrecognized key(s) in object: ${I.joinValues(t.keys,", ")}`;break;case h.invalid_union:r="Invalid input";break;case h.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${I.joinValues(t.options)}`;break;case h.invalid_enum_value:r=`Invalid enum value. Expected ${I.joinValues(t.options)}, received '${t.received}'`;break;case h.invalid_arguments:r="Invalid function arguments";break;case h.invalid_return_type:r="Invalid function return type";break;case h.invalid_date:r="Invalid date";break;case h.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:I.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case h.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case h.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case h.custom:r="Invalid input";break;case h.invalid_intersection_types:r="Intersection results could not be merged";break;case h.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case h.not_finite:r="Number must be finite";break;default:r=e.defaultError,I.assertNever(t)}return{message:r}},ms=Je;function io(t){ms=t}function Rt(){return ms}var Ot=t=>{let{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},oo=[];function m(t,e){let r=Ot({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rt(),Je].filter(n=>!!n)});t.common.issues.push(r)}var N=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let s of r){if(s.status==="aborted")return S;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let s of r)n.push({key:await s.key,value:await s.value});return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let s of r){let{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return S;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}},S=Object.freeze({status:"aborted"}),vs=t=>({status:"dirty",value:t}),D=t=>({status:"valid",value:t}),_r=t=>t.status==="aborted",mr=t=>t.status==="dirty",Qe=t=>t.status==="valid",At=t=>typeof Promise<"u"&&t instanceof Promise,x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(x||(x={}));var H=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ps=(t,e)=>{if(Qe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Z(t.common.issues);return this._error=r,this._error}}};function T(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:s}}var C=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ne(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new N,ctx:{common:e.parent.common,data:e.data,parsedType:ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(At(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ne(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ps(s,i)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ne(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(At(s)?s:Promise.resolve(s));return ps(n,i)}refine(e,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let o=e(s),a=()=>i.addIssue({code:h.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new B({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return F.create(this,this._def)}nullable(){return ee.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Q.create(this,this._def)}promise(){return oe.create(this,this._def)}or(e){return ye.create([this,e],this._def)}and(e){return ge.create(this,e,this._def)}transform(e){return new B({...T(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new ke({...T(this._def),innerType:this,defaultValue:r,typeName:w.ZodDefault})}brand(){return new Dt({typeName:w.ZodBranded,type:this,...T(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ze({...T(this._def),innerType:this,catchValue:r,typeName:w.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return et.create(this,e)}readonly(){return We.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},ao=/^c[^\s-]{8,}$/i,co=/^[a-z][a-z0-9]*$/,uo=/^[0-9A-HJKMNP-TV-Z]{26}$/,lo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fo=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ho="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",hr,po=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,_o=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,mo=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function vo(t,e){return!!((e==="v4"||!e)&&po.test(t)||(e==="v6"||!e)&&_o.test(t))}var se=class t extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){let i=this._getOrReturnCtx(e);return m(i,{code:h.invalid_type,expected:_.string,received:i.parsedType}),S}let n=new N,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),m(s,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),m(s,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?m(s,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&m(s,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")fo.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"email",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")hr||(hr=new RegExp(ho,"u")),hr.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"emoji",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")lo.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"uuid",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")ao.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"cuid",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")co.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"cuid2",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")uo.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"ulid",code:h.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),m(s,{validation:"url",code:h.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"regex",code:h.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),m(s,{code:h.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),m(s,{code:h.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),m(s,{code:h.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?mo(i).test(e.data)||(s=this._getOrReturnCtx(e,s),m(s,{code:h.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?vo(e.data,i.version)||(s=this._getOrReturnCtx(e,s),m(s,{validation:"ip",code:h.invalid_string,message:i.message}),n.dirty()):I.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:h.invalid_string,...x.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...x.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...x.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...x.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...x.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...x.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...x.errToObj(r)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};se.create=t=>{var e;return new se({checks:[],typeName:w.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...T(t)})};function yo(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}var fe=class t extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){let i=this._getOrReturnCtx(e);return m(i,{code:h.invalid_type,expected:_.number,received:i.parsedType}),S}let n,s=new N;for(let i of this._def.checks)i.kind==="int"?I.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:h.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yo(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:h.not_finite,message:i.message}),s.dirty()):I.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,x.toString(r))}gt(e,r){return this.setLimit("min",e,!1,x.toString(r))}lte(e,r){return this.setLimit("max",e,!0,x.toString(r))}lt(e,r){return this.setLimit("max",e,!1,x.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:x.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&I.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};fe.create=t=>new fe({checks:[],typeName:w.ZodNumber,coerce:t?.coerce||!1,...T(t)});var he=class t extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_.bigint){let i=this._getOrReturnCtx(e);return m(i,{code:h.invalid_type,expected:_.bigint,received:i.parsedType}),S}let n,s=new N;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),m(n,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):I.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,x.toString(r))}gt(e,r){return this.setLimit("min",e,!1,x.toString(r))}lte(e,r){return this.setLimit("max",e,!0,x.toString(r))}lt(e,r){return this.setLimit("max",e,!1,x.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:x.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};he.create=t=>{var e;return new he({checks:[],typeName:w.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...T(t)})};var pe=class extends C{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_.boolean){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.boolean,received:n.parsedType}),S}return D(e.data)}};pe.create=t=>new pe({typeName:w.ZodBoolean,coerce:t?.coerce||!1,...T(t)});var _e=class t extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){let i=this._getOrReturnCtx(e);return m(i,{code:h.invalid_type,expected:_.date,received:i.parsedType}),S}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return m(i,{code:h.invalid_date}),S}let n=new N,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),m(s,{code:h.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),m(s,{code:h.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):I.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};_e.create=t=>new _e({checks:[],coerce:t?.coerce||!1,typeName:w.ZodDate,...T(t)});var De=class extends C{_parse(e){if(this._getType(e)!==_.symbol){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.symbol,received:n.parsedType}),S}return D(e.data)}};De.create=t=>new De({typeName:w.ZodSymbol,...T(t)});var me=class extends C{_parse(e){if(this._getType(e)!==_.undefined){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.undefined,received:n.parsedType}),S}return D(e.data)}};me.create=t=>new me({typeName:w.ZodUndefined,...T(t)});var ve=class extends C{_parse(e){if(this._getType(e)!==_.null){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.null,received:n.parsedType}),S}return D(e.data)}};ve.create=t=>new ve({typeName:w.ZodNull,...T(t)});var ie=class extends C{constructor(){super(...arguments),this._any=!0}_parse(e){return D(e.data)}};ie.create=t=>new ie({typeName:w.ZodAny,...T(t)});var J=class extends C{constructor(){super(...arguments),this._unknown=!0}_parse(e){return D(e.data)}};J.create=t=>new J({typeName:w.ZodUnknown,...T(t)});var j=class extends C{_parse(e){let r=this._getOrReturnCtx(e);return m(r,{code:h.invalid_type,expected:_.never,received:r.parsedType}),S}};j.create=t=>new j({typeName:w.ZodNever,...T(t)});var Le=class extends C{_parse(e){if(this._getType(e)!==_.undefined){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.void,received:n.parsedType}),S}return D(e.data)}};Le.create=t=>new Le({typeName:w.ZodVoid,...T(t)});var Q=class t extends C{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==_.array)return m(r,{code:h.invalid_type,expected:_.array,received:r.parsedType}),S;if(s.exactLength!==null){let o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(m(r,{code:o?h.too_big:h.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(m(r,{code:h.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(m(r,{code:h.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new H(r,o,r.path,a)))).then(o=>N.mergeArray(n,o));let i=[...r.data].map((o,a)=>s.type._parseSync(new H(r,o,r.path,a)));return N.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:x.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:x.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:x.toString(r)}})}nonempty(e){return this.min(1,e)}};Q.create=(t,e)=>new Q({type:t,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...T(e)});function Me(t){if(t instanceof z){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=F.create(Me(n))}return new z({...t._def,shape:()=>e})}else return t instanceof Q?new Q({...t._def,type:Me(t.element)}):t instanceof F?F.create(Me(t.unwrap())):t instanceof ee?ee.create(Me(t.unwrap())):t instanceof K?K.create(t.items.map(e=>Me(e))):t}var z=class t extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=I.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==_.object){let c=this._getOrReturnCtx(e);return m(c,{code:h.invalid_type,expected:_.object,received:c.parsedType}),S}let{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof j&&this._def.unknownKeys==="strip"))for(let c in s.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let d=i[c],l=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new H(s,l,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof j){let c=this._def.unknownKeys;if(c==="passthrough")for(let d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(m(s,{code:h.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let d of a){let l=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new H(s,l,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let d of u){let l=await d.key;c.push({key:l,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>N.mergeObjectSync(n,c)):N.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;let u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=x.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return I.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return I.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return Me(this)}partial(e){let r={};return I.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return I.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof F;)i=i._def.innerType;r[n]=i}}),new t({...this._def,shape:()=>r})}keyof(){return ys(I.objectKeys(this.shape))}};z.create=(t,e)=>new z({shape:()=>t,unknownKeys:"strip",catchall:j.create(),typeName:w.ZodObject,...T(e)});z.strictCreate=(t,e)=>new z({shape:()=>t,unknownKeys:"strict",catchall:j.create(),typeName:w.ZodObject,...T(e)});z.lazycreate=(t,e)=>new z({shape:t,unknownKeys:"strip",catchall:j.create(),typeName:w.ZodObject,...T(e)});var ye=class extends C{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(a=>new Z(a.ctx.common.issues));return m(r,{code:h.invalid_union,unionErrors:o}),S}if(r.common.async)return Promise.all(n.map(async i=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let a=o.map(u=>new Z(u));return m(r,{code:h.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}};ye.create=(t,e)=>new ye({options:t,typeName:w.ZodUnion,...T(e)});var It=t=>t instanceof xe?It(t.schema):t instanceof B?It(t.innerType()):t instanceof we?[t.value]:t instanceof be?t.options:t instanceof Ee?Object.keys(t.enum):t instanceof ke?It(t._def.innerType):t instanceof me?[void 0]:t instanceof ve?[null]:null,Pt=class t extends C{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.object)return m(r,{code:h.invalid_type,expected:_.object,received:r.parsedType}),S;let n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(m(r,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let s=new Map;for(let i of r){let o=It(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new t({typeName:w.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...T(n)})}};function vr(t,e){let r=ne(t),n=ne(e);if(t===e)return{valid:!0,data:t};if(r===_.object&&n===_.object){let s=I.objectKeys(e),i=I.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(let a of i){let u=vr(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===_.array&&n===_.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<t.length;i++){let o=t[i],a=e[i],u=vr(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===_.date&&n===_.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var ge=class extends C{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(_r(i)||_r(o))return S;let a=vr(i.value,o.value);return a.valid?((mr(i)||mr(o))&&r.dirty(),{status:r.value,value:a.data}):(m(n,{code:h.invalid_intersection_types}),S)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ge.create=(t,e,r)=>new ge({left:t,right:e,typeName:w.ZodIntersection,...T(r)});var K=class t extends C{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.array)return m(n,{code:h.invalid_type,expected:_.array,received:n.parsedType}),S;if(n.data.length<this._def.items.length)return m(n,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&n.data.length>this._def.items.length&&(m(n,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new H(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>N.mergeArray(r,o)):N.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};K.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K({items:t,typeName:w.ZodTuple,rest:null,...T(e)})};var Nt=class t extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.object)return m(n,{code:h.invalid_type,expected:_.object,received:n.parsedType}),S;let s=[],i=this._def.keyType,o=this._def.valueType;for(let a in n.data)s.push({key:i._parse(new H(n,a,n.path,a)),value:o._parse(new H(n,n.data[a],n.path,a))});return n.common.async?N.mergeObjectAsync(r,s):N.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof C?new t({keyType:e,valueType:r,typeName:w.ZodRecord,...T(n)}):new t({keyType:se.create(),valueType:e,typeName:w.ZodRecord,...T(r)})}},ze=class extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.map)return m(n,{code:h.invalid_type,expected:_.map,received:n.parsedType}),S;let s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:s._parse(new H(n,a,n.path,[c,"key"])),value:i._parse(new H(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return S;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return S;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}};ze.create=(t,e,r)=>new ze({valueType:e,keyType:t,typeName:w.ZodMap,...T(r)});var Ve=class t extends C{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.set)return m(n,{code:h.invalid_type,expected:_.set,received:n.parsedType}),S;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(m(n,{code:h.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(m(n,{code:h.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function o(u){let c=new Set;for(let d of u){if(d.status==="aborted")return S;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>i._parse(new H(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:x.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:x.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ve.create=(t,e)=>new Ve({valueType:t,minSize:null,maxSize:null,typeName:w.ZodSet,...T(e)});var Mt=class t extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.function)return m(r,{code:h.invalid_type,expected:_.function,received:r.parsedType}),S;function n(a,u){return Ot({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rt(),Je].filter(c=>!!c),issueData:{code:h.invalid_arguments,argumentsError:u}})}function s(a,u){return Ot({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rt(),Je].filter(c=>!!c),issueData:{code:h.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof oe){let a=this;return D(async function(...u){let c=new Z([]),d=await a._def.args.parseAsync(u,i).catch(f=>{throw c.addIssue(n(u,f)),c}),l=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(l,i).catch(f=>{throw c.addIssue(s(l,f)),c})})}else{let a=this;return D(function(...u){let c=a._def.args.safeParse(u,i);if(!c.success)throw new Z([n(u,c.error)]);let d=Reflect.apply(o,this,c.data),l=a._def.returns.safeParse(d,i);if(!l.success)throw new Z([s(d,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:K.create(e).rest(J.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||K.create([]).rest(J.create()),returns:r||J.create(),typeName:w.ZodFunction,...T(n)})}},xe=class extends C{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};xe.create=(t,e)=>new xe({getter:t,typeName:w.ZodLazy,...T(e)});var we=class extends C{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return m(r,{received:r.data,code:h.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}};we.create=(t,e)=>new we({value:t,typeName:w.ZodLiteral,...T(e)});function ys(t,e){return new be({values:t,typeName:w.ZodEnum,...T(e)})}var be=class t extends C{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return m(r,{expected:I.joinValues(n),received:r.parsedType,code:h.invalid_type}),S}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return m(r,{received:r.data,code:h.invalid_enum_value,options:n}),S}return D(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};be.create=ys;var Ee=class extends C{_parse(e){let r=I.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_.string&&n.parsedType!==_.number){let s=I.objectValues(r);return m(n,{expected:I.joinValues(s),received:n.parsedType,code:h.invalid_type}),S}if(r.indexOf(e.data)===-1){let s=I.objectValues(r);return m(n,{received:n.data,code:h.invalid_enum_value,options:s}),S}return D(e.data)}get enum(){return this._def.values}};Ee.create=(t,e)=>new Ee({values:t,typeName:w.ZodNativeEnum,...T(e)});var oe=class extends C{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.promise&&r.common.async===!1)return m(r,{code:h.invalid_type,expected:_.promise,received:r.parsedType}),S;let n=r.parsedType===_.promise?r.data:Promise.resolve(r.data);return D(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};oe.create=(t,e)=>new oe({type:t,typeName:w.ZodPromise,...T(e)});var B=class extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{m(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let o=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){let o=a=>{let u=s.refinement(a,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qe(o))return o;let a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qe(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);I.assertNever(s)}};B.create=(t,e,r)=>new B({schema:t,typeName:w.ZodEffects,effect:e,...T(r)});B.createWithPreprocess=(t,e,r)=>new B({schema:e,effect:{type:"preprocess",transform:t},typeName:w.ZodEffects,...T(r)});var F=class extends C{_parse(e){return this._getType(e)===_.undefined?D(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};F.create=(t,e)=>new F({innerType:t,typeName:w.ZodOptional,...T(e)});var ee=class extends C{_parse(e){return this._getType(e)===_.null?D(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ee.create=(t,e)=>new ee({innerType:t,typeName:w.ZodNullable,...T(e)});var ke=class extends C{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===_.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ke.create=(t,e)=>new ke({innerType:t,typeName:w.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...T(e)});var Ze=class extends C{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return At(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Z(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Z(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ze.create=(t,e)=>new Ze({innerType:t,typeName:w.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...T(e)});var Be=class extends C{_parse(e){if(this._getType(e)!==_.nan){let n=this._getOrReturnCtx(e);return m(n,{code:h.invalid_type,expected:_.nan,received:n.parsedType}),S}return{status:"valid",value:e.data}}};Be.create=t=>new Be({typeName:w.ZodNaN,...T(t)});var go=Symbol("zod_brand"),Dt=class extends C{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},et=class t extends C{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?S:i.status==="dirty"?(r.dirty(),vs(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?S:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:w.ZodPipeline})}},We=class extends C{_parse(e){let r=this._def.innerType._parse(e);return Qe(r)&&(r.value=Object.freeze(r.value)),r}};We.create=(t,e)=>new We({innerType:t,typeName:w.ZodReadonly,...T(e)});var gs=(t,e={},r)=>t?ie.create().superRefine((n,s)=>{var i,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:u})}}):ie.create(),xo={object:z.lazycreate},w;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(w||(w={}));var wo=(t,e={message:`Input not instance of ${t.name}`})=>gs(r=>r instanceof t,e),xs=se.create,ws=fe.create,bo=Be.create,Eo=he.create,bs=pe.create,ko=_e.create,So=De.create,To=me.create,Co=ve.create,Uo=ie.create,Io=J.create,Ro=j.create,Oo=Le.create,Ao=Q.create,Po=z.create,No=z.strictCreate,Mo=ye.create,Do=Pt.create,Lo=ge.create,zo=K.create,Vo=Nt.create,Zo=ze.create,Bo=Ve.create,Wo=Mt.create,$o=xe.create,Ho=we.create,Fo=be.create,jo=Ee.create,qo=oe.create,_s=B.create,Ko=F.create,Yo=ee.create,Go=B.createWithPreprocess,Xo=et.create,Jo=()=>xs().optional(),Qo=()=>ws().optional(),ea=()=>bs().optional(),ta={string:t=>se.create({...t,coerce:!0}),number:t=>fe.create({...t,coerce:!0}),boolean:t=>pe.create({...t,coerce:!0}),bigint:t=>he.create({...t,coerce:!0}),date:t=>_e.create({...t,coerce:!0})},ra=S,O=Object.freeze({__proto__:null,defaultErrorMap:Je,setErrorMap:io,getErrorMap:Rt,makeIssue:Ot,EMPTY_PATH:oo,addIssueToContext:m,ParseStatus:N,INVALID:S,DIRTY:vs,OK:D,isAborted:_r,isDirty:mr,isValid:Qe,isAsync:At,get util(){return I},get objectUtil(){return pr},ZodParsedType:_,getParsedType:ne,ZodType:C,ZodString:se,ZodNumber:fe,ZodBigInt:he,ZodBoolean:pe,ZodDate:_e,ZodSymbol:De,ZodUndefined:me,ZodNull:ve,ZodAny:ie,ZodUnknown:J,ZodNever:j,ZodVoid:Le,ZodArray:Q,ZodObject:z,ZodUnion:ye,ZodDiscriminatedUnion:Pt,ZodIntersection:ge,ZodTuple:K,ZodRecord:Nt,ZodMap:ze,ZodSet:Ve,ZodFunction:Mt,ZodLazy:xe,ZodLiteral:we,ZodEnum:be,ZodNativeEnum:Ee,ZodPromise:oe,ZodEffects:B,ZodTransformer:B,ZodOptional:F,ZodNullable:ee,ZodDefault:ke,ZodCatch:Ze,ZodNaN:Be,BRAND:go,ZodBranded:Dt,ZodPipeline:et,ZodReadonly:We,custom:gs,Schema:C,ZodSchema:C,late:xo,get ZodFirstPartyTypeKind(){return w},coerce:ta,any:Uo,array:Ao,bigint:Eo,boolean:bs,date:ko,discriminatedUnion:Do,effect:_s,enum:Fo,function:Wo,instanceof:wo,intersection:Lo,lazy:$o,literal:Ho,map:Zo,nan:bo,nativeEnum:jo,never:Ro,null:Co,nullable:Yo,number:ws,object:Po,oboolean:ea,onumber:Qo,optional:Ko,ostring:Jo,pipeline:Xo,preprocess:Go,promise:qo,record:Vo,set:Bo,strictObject:No,string:xs,symbol:So,transformer:_s,tuple:zo,undefined:To,union:Mo,unknown:Io,void:Oo,NEVER:ra,ZodIssueCode:h,quotelessJson:so,ZodError:Z});var na=O.object({x:O.number(),y:O.number(),pointer:O.union([O.literal("mouse"),O.literal("touch")])}),yr=O.object({name:O.string(),color:O.string(),cursor:na.optional().nullable(),message:O.string().optional().nullable(),spotlightColor:O.string().optional()}),sa=O.object({country:O.string().nullable()}),Es=O.object({presence:yr,metadata:sa}),ks=O.discriminatedUnion("type",[O.object({type:O.literal("sync"),users:O.record(Es)}),O.object({type:O.literal("changes"),add:O.record(Es).optional(),presence:O.record(yr).optional(),remove:O.array(O.string()).optional()})]),ia=O.object({type:O.literal("update"),presence:yr});function Ss(t){return typeof t=="string"?JSON.parse(t):fr(t)}function gr(t){return cr(ia.parse(t))}var tt=Et(t=>({myId:null,myself:null,setMyId:e=>t({myId:e}),synced:!1,setSynced:e=>t({synced:e}),pendingUpdate:null,clearPendingUpdate:()=>t({pendingUpdate:null}),updatePresence:e=>t(r=>{if(!r.myself)return{};let n={...r.myself.presence,...e};return{myself:{...r.myself,presence:n},pendingUpdate:n}}),otherUsers:new Map,setUsers:e=>t(r=>{let n=new Map;return e.forEach((i,o)=>{o!==r.myId&&n.set(o,i)}),{myself:r.myId?e.get(r.myId):null,otherUsers:n}}),addUser:(e,r)=>{t(n=>{if(e===n.myId)return{};let s=new Map(n.otherUsers);return s.set(e,r),{otherUsers:s}})},removeUser:e=>{t(r=>{if(e===r.myId)return{};let n=new Map(r.otherUsers);return n.delete(e),{otherUsers:n}})},updateUser:(e,r)=>{t(n=>{if(e===n.myId)return{};let s=new Map(n.otherUsers),i=s.get(e);return i?(s.set(e,{...i,presence:r}),{otherUsers:s}):{otherUsers:s}})}})),oa=Ce({});function xr(t){let{setMyId:e,setUsers:r,addUser:n,updateUser:s,removeUser:i,pendingUpdate:o,clearPendingUpdate:a,synced:u,setSynced:c}=tt(),d=f=>{if(f.type==="changes"){if(f.add)for(let[b,g]of Object.entries(f.add))n(b,g);if(f.presence)for(let[b,g]of Object.entries(f.presence))s(b,g);if(f.remove)for(let b of f.remove)i(b)}},l=async f=>{let b=f.data instanceof Blob?Ss(await f.data.arrayBuffer()):JSON.parse(f.data),g=ks.safeParse(b);if(!g.success)return;let y=g.data;switch(y.type){case"sync":e(p.id),r(new Map(Object.entries(y.users))),c(!0);break;case"changes":d(y);break}},p=Zn({host:t.host,room:t.room,query:{name:t.presence.name,color:t.presence.color,from:window?.location.href},onMessage:f=>l(f),onClose:f=>console.warn("Socket closed:",f.reason||f.error||f),onError:f=>console.error("Socket error:",f.reason||f.error||f)});return A(()=>{if(p&&(e(p.id),!u)){let f={type:"update",presence:t.presence};p.send(gr(f))}},[t.presence,e,u,p]),A(()=>{if(!o||!p)return;let f={type:"update",presence:o};p.send(gr(f)),a()},[p,o,a]),k(oa.Provider,{value:{}},t.children)}P();P();P();var $e=Et(()=>({myId:null,myself:null,otherUsers:new Map,within:"window"}));function wr(t="window"){let{myId:e,myself:r,otherUsers:n,updatePresence:s}=tt(g=>({myId:g.myId,myself:g.myself,otherUsers:g.otherUsers,updatePresence:g.updatePresence})),[i,o]=M({x:0,y:0}),[a,u]=M({x:0,y:0}),c=()=>{u({x:document.documentElement.scrollWidth,y:document.documentElement.scrollHeight})};A(()=>{let g=()=>{o({x:window.innerWidth,y:window.innerHeight}),t==="document"&&c()};return window.addEventListener("resize",g),g(),()=>{window.removeEventListener("resize",g)}},[t]);let[d,l]=M(null),[p,f]=M(null);A(()=>{let g=U=>{l({x:U.clientX,y:U.clientY,pointer:"mouse"}),t==="document"&&f({x:U.pageX,y:U.pageY,pointer:"mouse"})};window.addEventListener("mousemove",g);let y=U=>{l({x:U.touches[0].clientX,y:U.touches[0].clientY,pointer:"touch"}),t==="document"&&f({x:U.touches[0].pageX,y:U.touches[0].pageY,pointer:"touch"})};window.addEventListener("touchmove",y);let E=()=>{l(null),t==="document"&&f(null)};return window.addEventListener("touchend",E),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",E)}},[t]),A(()=>{if(t!=="document")return;let g=()=>{let y=window.scrollX||document.documentElement.scrollLeft,E=window.scrollY||document.documentElement.scrollTop;f(()=>d?{...d,x:d.x+y,y:d.y+E}:null)};return window.addEventListener("scroll",g),g(),()=>{window.removeEventListener("scroll",g)}},[t,d]),A(()=>{let g=t==="window"?i:a,y=t==="window"?d:p;if(y===null){s({cursor:null});return}if(!i.x||!i.y){s({cursor:null});return}let E={x:y.x/g.x,y:y.y/g.y,pointer:y.pointer};s({cursor:E})},[d,p,i,a,s,t]),A(()=>{setTimeout(c,100)},[]);let b=g=>{let y=t==="window"?i:a,E=g.presence?.cursor?{...g.presence.cursor,x:g.presence.cursor.x*y.x,y:g.presence.cursor.y*y.y}:null;return{...g,presence:{...g.presence,cursor:E}}};A(()=>{let g=r?b(r):null,y=new Map;n.forEach((E,U)=>{y.set(U,b(E))}),$e.setState({myId:e,myself:g,otherUsers:y,within:t})})}P();P();var aa=/^[a-z]{2}$/i;function br(t){if(!aa.test(t))return"\u{1F3F4}\u200D\u2620\uFE0F";let e=[...t.toUpperCase()].map(r=>(r.codePointAt(0)??0)+127397);return String.fromCodePoint(...e)}function Er(t){let e=$e(o=>o.otherUsers.get(t.userId)||null);if(!e?.presence?.cursor)return;let r={x:e.presence.cursor.x,y:e.presence.cursor.y,pointer:e.presence.cursor.pointer,country:e.metadata.country,message:e.presence.message??null},n=10,s=r.country?`${br(r.country)} `:"",i={opacity:1,zIndex:1001};return k("div",{style:{position:"absolute",transform:`translate(${r.x-n}px, ${r.y-n}px`,...i}},r.pointer==="mouse"?k(ca,{fill:t.fill}):k(ua,{fill:t.fill}),r.message===null&&r.country!==null&&k("div",{style:{position:"absolute",whiteSpace:"nowrap",padding:"4px",fontSize:"24px",top:"10px",left:"16px"}},s),r.message!==null&&k("div",{style:{position:"absolute",fontSize:"16px",fontStyle:"normal",fontFamily:'system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',color:"white",padding:"4px 9px 4px 9px",borderRadius:"16px 16px 16px 16px",whiteSpace:"nowrap",backgroundColor:"rgba(52,199,89,1)",top:"17px",left:"22px"}},r.message))}function ca(t){let e=t.fill??"#000";return k("svg",{height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg"},k("g",{fill:"none",fillRule:"evenodd",transform:"translate(10 7)"},k("path",{d:"m6.148 18.473 1.863-1.003 1.615-.839-2.568-4.816h4.332l-11.379-11.408v16.015l3.316-3.221z",fill:"#fff"}),k("path",{d:"m6.431 17 1.765-.941-2.775-5.202h3.604l-8.025-8.043v11.188l2.53-2.442z",fill:e})))}function ua(t){let e=t.fill??"#000";return k("svg",{height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg"},k("g",{fill:"none",fillRule:"evenodd",transform:"translate(9 8)"},k("path",{d:"m3.8852309 13.5522788c.15029277.1354048.25406355.2326609.57471053.5372549.31406586.2983172.46594413.439273.60482646.5572091.05791893.0487853.10729946.1792495.12686364.3731628.01609788.1595565.01049553.3375341-.0090192.5090254-.00674888.0593077-.01325791.1020883-.01698742.1224696-.04186639.2287942.13249226.4401222.36507344.4424801.20929712.0021219.37056581.00472.79741331.0123273.10679864.0019014.10679864.0019014.21395196.0037648 1.16029156.0199598 1.75290683.01448 2.1782236-.039003.45462139-.05716.92282087-.6061887 1.32754658-1.2951218.3429437.6096032.818651 1.2048784 1.2990136 1.282277.1525992.0243739.3372104.0319365.5511764.0270146.1595258-.0036697.328349-.0141847.4987188-.0294071.1284742-.0114791.2308379-.0230173.2919821-.0309462.2259121-.0292954.3737346-.2515956.31337-.4712558-.0130388-.0474468-.0339905-.1345046-.0551176-.2441066-.0244927-.1270617-.0421932-.2511642-.0502379-.3642189-.0051002-.0716765-.0061057-.1365707-.0028638-.1926702.0056365-.097781.007395-.1525378.0101327-.2790463.0010457-.0470941.0010457-.0470941.0024433-.0883088.0052898-.134881.0234093-.2629524.0820463-.5422232.0251901-.1212103.1472903-.3531692.3395862-.6402332.0572734-.0854992.1198813-.1747825.1869659-.2669588.127207-.1747861.2641214-.3514011.4010853-.5204043.0820457-.1012383.1454717-.1769623.1807968-.2180763.2962199-.424403.6120842-1.1191696.7281396-1.5253635.111416-.3904017.2005405-1.10937558.2553074-1.81604479.0300143-.40088807.0411211-.72405394.0411211-1.23097561.0000507-.08891816.0000507-.08891816.0002032-.16234685.0002858-.12025251.0003032-.16573976-.0000887-.22195195-.0010706-.15358041-.0055478-.30580145-.0203882-.6940256-.0319191-.81365149-.4778003-1.3396911-1.1348711-1.44115781-.5589865-.08632026-1.2393839.37795756-1.2393839.37795756s-.1514404-.5228127-.2537197-.6842075c-.1661957-.25934741-.5941748-.58982828-.9213451-.65421118-.3365014-.0653413-.7354024-.05811592-1.1017193.00667481-.3207944.05740454-.64034865.34382687-.82518751.65277182-.13223727.22039488-.00786932-.01169164-.14013104-.2396787-.1830552-.31402315-.60932935-.59522407-1.01524567-.67822294-.34396352-.07112559-.73801897-.04403625-1.09795562.06293793-.46304125.13836397-.53675291.49073282-.55516748.38984626-.06158674-.3382385-.06727482-.3160095-.105656-.55729603-.14258072-.89527436-.30213161-1.51473549-.54406219-2.05528331.01391678.0310773-.08860981-.20214701-.12592279-.28256779-.06461002-.13925416-.12910532-.2652956-.19999629-.38652204-.21850342-.37364978-.46891278-.65340904-.7830908-.81233894-.54561037-.27629378-1.3634177-.14183064-1.75105565.31064856-.38495968.44966797-.4491432 1.20149287-.3521966 2.13184003.03702376.36121263.16678627 1.02066144.28444961 1.50812387.04160602.1691894.07805979.32348903.14491578.60851331.01149723.04848415.01149723.04848415.02309483.09698036.05172236.21571896.09707607.39320067.15122332.5879629-.00568154-.02030261.09701461.344086.11888835.42472961.00727686.02691587.00727686.02691587.01448296.05395339.04082856.15377935.08074083.31959314.14309954.5963099.03412572.1521447.06742545.31468601.09999775.48699018.08883553.46993091.089274.37207374.00375852.27186198-.05907319-.06922522-.11463055-.13209255-.16830659-.19003644-.09976937-.10770214-.19148509-.19677225-.2785569-.2678141-.6343975-.51905295-1.02312991-.74839425-1.55681885-.79878106-.87541567-.08410158-1.70619803.53426712-1.83111632 1.36882761-.07682697.51169638-.05207639.74723271.18463583 1.19942735.13026223.24432805.35060714.53942202.76172732 1.04735429.02515953.031068.02515953.031068.05030428.06206416.50464537.62186746.55962098.69095396.67961467.86473786.32435479.4706845 1.1139501 1.8221455 1.25748612 2.0035872z",fill:e}),k("path",{d:"m1.68266944 9.2716401c-.02488625-.03067752-.02488625-.03067752-.04970567-.06132555-.37729166-.46613768-.58418002-.74321015-.68156241-.9258495-.15281729-.29195235-.1611316-.37107459-.10605794-.73788601.06473349-.43247455.53181583-.78013371 1.01829549-.73339767.33660502.03178017.63068475.20527903 1.15339692.63295262.0565942.04617564.12482853.1124417.20288232.19670163.04616569.04983637.09513192.10524534.14800114.16720042.0794093.0930562.34702847.42052231.30761424.37286894.05814283.06991619.09971852.12407704.14721655.19045018.0941062.13434104.14705111.20894642.21874992.30454484-.0336171-.04487143.21473082.29843305.26732159.34863333.27859812.26593456.68203289.04195871.65675979-.31244785-.00421914-.05916537-.01812774-.12308431-.04717934-.23466885-.11487425-.81923739-.15505751-1.08218312-.24678252-1.56739907-.03407352-.18024544-.06905328-.35098727-.10521102-.5121905-.06435409-.28557213-.10635725-.46007245-.14994794-.62425526-.00774801-.02907063-.00774801-.02907063-.01552357-.05783095-.02300644-.08481964-.12725123-.45470311-.12030828-.42989063-.05134381-.18468043-.0945453-.35373996-.14431997-.56133562-.01130896-.04728909-.01130896-.04728909-.02259904-.09489949-.06649254-.28350912-.10387999-.44176072-.14606063-.6132721-.10998732-.45567652-.23425389-1.08719519-.2671036-1.40768017-.07546665-.72422018-.02339381-1.33418457.17582284-1.56688778.15554834-.1815673.59641015-.25405339.84271752-.12932486.16107512.0814814.32204278.26131571.47435101.521769.05764302.09857191.11172763.20426801.16708381.32357735.0335256.07225783.13292567.29837003.12172905.27336705.21032209.46992469.354801 1.03086841.48791736 1.86671535.03939531.24766201.08813662.52823537.15063928.87150416.01857903.10178746.01857903.10178746.03722922.20314381.30139226 1.63533599.27933797 1.51139381.28367122 1.64182468.01580667.47578071.71810567.4869267.74900255.01188722.00979855-.15065269.00630989-.2851661-.01107827-.67146517-.00245496-.05465243-.00245496-.05465243-.00481877-.10910149-.01521525-.35590459-.01433687-.56066672.00670546-.67705709.03834708-.21223125.22887-.4499778.40434754-.50241339.24641865-.07323589.51640341-.09179599.73269877-.04707051.20703808.0423346.44864736.20171736.51796318.32062499.08353628.14399789.15516008.36337367.21006107.63530456.04431149.21947986.07480439.45493493.0962536.70624261.00667352.0781897.01103024.13859819.01772256.23854675.00285005.04183594.00285005.04183594.00568968.07635213.00160285.01731471.00160285.01731471.00551199.04467336.00303535.01917374.00303535.01917374.01734216.06773608.00727602.13782339.00727602.13782339.56081544.18893151.16530264-.19982737.16530264-.19982737.16077268-.23486454.02708074-.1183491.04365279-.250265.06727822-.49813693.01508098-.16112409.02268576-.24033521.03157416-.32249887.036794-.34012028.0835164-.55621578.140511-.65120691.0707148-.11819408.3197845-.28280909.4314962-.30279961.2805348-.04961763.5886064-.0551978.8264635-.00901194.1077347.021202.3705429.22413969.4327499.32121002.1277282.20156171.2519621.8513817.3219188 1.49611734-.0110122.04228902-.0110122.04228902.1607163.28760404.5903408-.06730286.5903408-.06730286.5737568-.17389206.0155734-.03799147.0279666-.08191522.0455068-.15013809.0421947-.1597068.0701719-.25243998.1118273-.35635899.0288165-.07188915.0591935-.13335501.0903398-.18227881.120675-.18992919.4330876-.31896311.7070596-.2766556.2942545.0454396.4817569.26665023.4998934.72896761.0145423.38042999.0188438.52667972.0198445.67022961.0003693.0529684.0003531.09548963.0000723.21509672-.0001536.07391241-.0001536.07391241-.000205.16397385 0 .48892448-.010469.79353263-.0389535 1.17400348-.0506294.653266-.1361064 1.34281542-.228649 1.66708482-.094456.330596-.3764591.9508823-.5997469 1.2734975-.0158389.0153017-.0838055.0964468-.1706932.2036597-.1445918.1784155-.2892331.364998-.4248114.5512865-.0725632.099704-.140705.1968792-.2036767.2908847-.2436695.3637558-.4000227.6607868-.4506249.9042828-.0664376.3164194-.0901813.4842425-.0973169.666189-.0017426.0515155-.0017426.0515155-.0028439.1014735-.0025547.1180556-.0040857.165727-.0090621.2520573-.0052398.0906702-.0037444.1871795.0035093.2891187.0103883.145992.0000001.3454812.0000001.3454812s-.1266332-.0118299-.2678551-.0085813c-.1725177.0039685-.3159859-.0019087-.4151297-.0177442-.143046-.0230487-.5293508-.5064503-.7271506-.8830611-.3022704-.5764228-1.03604858-.5484427-1.33684295-.0394061-.27130191.4618137-.65965243.9172085-.77493336.9317029-.37460536.047106-.95471158.0524702-2.07175566.0332544-.10679478-.0018572-.10679478-.0018572-.21348729-.0037567-.42889761-.0076439-.41241496.0647655-.40363307-.0124079.02506967-.2203068.02222332-.1790312.00000011-.3992999-.03726222-.36933-.15125405-.6704984-.38877094-.8705429-.12286946-.1043424-.26983033-.2407345-.56500741-.5211097-.33722428-.3203411-.44283686-.4193233-.57299128-.5337266l-.80130455-.8907189c-.08795856-.1124788-.86002339-1.4339349-1.21248613-1.9454077-.13710846-.19857111-.18839645-.26302343-.71461353-.9114734zm9.50873056.0037599v3.459c0 .5.75.5.75 0v-3.459c0-.5-.75-.5-.75 0zm-2.03159602-.00057241.016 3.47300001c.00230346.4999947.7522955.4965395.74999204-.0034552l-.016-3.47299999c-.00230346-.4999947-.7522955-.49653951-.74999204.00345518zm-1.20911102 3.45357381-.021-3.42599996c-.00306475-.4999906-.75305066-.49539349-.74998592.00459712l.021 3.42600004c.00306475.4999906.75305066.4953935.74998592-.0045972z",fill:"#fff"})))}function kr({showChat:t=!1}){let e=$e(s=>Array.from(s.otherUsers.keys())),n={position:$e(s=>s.within)==="window"?"fixed":"absolute",top:0,left:0,right:0,bottom:0,overflow:"clip",pointerEvents:"none"};return k("div",{style:n},e.map(s=>k(Er,{key:s,userId:s,fill:"#00f",showChat:t})))}P();P();var rt={container:{boxSizing:"border-box",position:"fixed",bottom:"24px",right:"32px",padding:"8px",height:"48px",borderRadius:"24px",minWidth:"4.4em",backgroundColor:"rgba(52, 199, 89, 1)",color:"white",display:"flex",justifyContent:"end",alignItems:"center",gap:"8px",fontFamily:'system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontWeight:320},input:{boxSizing:"border-box",padding:"0px 4px 0px 4px",margin:"0px",fontSize:"24px",lineHeight:1,whiteSpace:"nowrap"},button:{boxSizing:"border-box",width:"32px",height:"32px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",fontWeight:250,padding:"0px",margin:"0px",border:"0.5px solid rgba(255,255,255,0.75)",cursor:"pointer",color:"white",backgroundColor:"transparent"}};function Sr(){let[t,e]=M(!1),[r,n]=M(""),{updatePresence:s,showCTA:i}=tt(o=>{let a=Array.from(o.otherUsers.values()),u=!1;for(let c of a)if(c.presence?.message){u=!0;break}return{updatePresence:o.updatePresence,showCTA:u}});return A(()=>{let o=null,a=u=>{if(o&&clearTimeout(o),o=setTimeout(()=>{e(!1),n(c=>"")},1e4),!t)u.key==="/"&&(n(c=>""),e(!0));else if(!u.metaKey&&!u.ctrlKey&&!u.altKey)return u.key==="Enter"?e(!1):u.key==="Escape"?(e(!1),n(c=>"")):u.key==="Backspace"?n(c=>c.slice(0,-1)):u.key.length===1&&n(c=>c.length<42?c+u.key:c),u.preventDefault(),u.stopPropagation(),!1};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a),o&&clearTimeout(o)}},[t]),A(()=>{s({message:r.length>0?r:null})},[r,s]),t||r?k("div",{style:rt.container},k("div",{style:rt.input},r||"..."),k("div",{style:rt.button,onClick:()=>{e(!1),n("")}},"\xD7")):i?k("div",{style:rt.container},k("div",{style:rt.input},"Type / to reply")):null}var Ts=!0;function Tr(){return wr("document"),k(L,null,k(kr,{showChat:Ts}),Ts&&k(Sr,null))}var la=window?.location.href?btoa(window.location.href.split(/[?#]/)[0]):"default";function da(){return k(xr,{host:"cursor-party.jackpurrin.partykit.dev",room:la,presence:{name:"Anonymous User",color:"#0000f0"}},k(Tr,null))}var Cr=document.createElement("div");document.body.appendChild(Cr);document.documentElement.style.position="relative";document.documentElement.style.minHeight="100dvh";Cr.classList.add("cursors-root");yt(k(da,null),Cr);})();
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

partysocket/dist/chunk-KQKM3KLR.mjs:
  (*!
   * Reconnecting WebSocket
   * by Pedro Ladaria <pedro.ladaria@gmail.com>
   * https://github.com/pladaria/reconnecting-websocket
   * License MIT
   *)
*/
//# sourceMappingURL=cursors.js.map
